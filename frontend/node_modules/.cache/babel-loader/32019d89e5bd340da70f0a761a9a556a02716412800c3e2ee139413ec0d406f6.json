{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{getProfileRequest}from'./store/actions';import{NotificationProvider}from'./contexts/NotificationContext';import{ApplicationProvider}from'./contexts/ApplicationContext';// Layout Components\nimport Header from'./components/layout/Header';import Footer from'./components/layout/Footer';// Auth Components\nimport Login from'./components/auth/Login';import Register from'./components/auth/Register';import ProtectedRoute from'./components/auth/ProtectedRoute';import AdminRoute from'./components/auth/AdminRoute';// Pages\nimport LandingPage from'./components/pages/LandingPage';import UserDashboard from'./components/dashboard/UserDashboard';import AdminDashboard from'./components/dashboard/AdminDashboard';import Jobs from'./components/jobs/JobList';import JobDetail from'./components/jobs/JobDetail';import JobForm from'./components/jobs/JobForm';import Applications from'./components/applications/ApplicationList';import ApplicationForm from'./components/applications/ApplicationForm';import ApplicationDetail from'./components/applications/ApplicationDetail';import Profile from'./components/auth/Profile';import AdminJobList from'./components/admin/AdminJobList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const dispatch=useDispatch();const{token,loading,isAuthenticated}=useSelector(state=>state.auth);console.log('App component rendered',{token,loading,isAuthenticated});useEffect(()=>{console.log('App useEffect triggered',{token});if(token&&!isAuthenticated){console.log('Dispatching getProfileRequest');dispatch(getProfileRequest());}},[dispatch,token,isAuthenticated]);console.log('App render state:',{loading});if(loading){console.log('Showing loading screen');return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading...\"})]})});}console.log('Rendering main app content');return/*#__PURE__*/_jsx(NotificationProvider,{children:/*#__PURE__*/_jsx(ApplicationProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-gray-50\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs\",element:/*#__PURE__*/_jsx(Jobs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/jobs/:id\",element:/*#__PURE__*/_jsx(JobDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(UserDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/applications\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Applications,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/apply/:jobId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ApplicationForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/applications/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ApplicationDetail,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/jobs\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(AdminJobList,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/jobs/create\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(JobForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/jobs/:id/edit\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(JobForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/applications\",element:/*#__PURE__*/_jsx(AdminRoute,{children:/*#__PURE__*/_jsx(Applications,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]})}),/*#__PURE__*/_jsx(Footer,{})]})})})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useDispatch","useSelector","getProfileRequest","NotificationProvider","ApplicationProvider","Header","Footer","Login","Register","ProtectedRoute","AdminRoute","LandingPage","UserDashboard","AdminDashboard","Jobs","JobDetail","JobForm","Applications","ApplicationForm","ApplicationDetail","Profile","AdminJobList","jsx","_jsx","jsxs","_jsxs","App","dispatch","token","loading","isAuthenticated","state","auth","console","log","className","children","path","element","to","replace"],"sources":["/Users/rigobert/Documents/ISCO/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProfileRequest } from './store/actions';\nimport { NotificationProvider } from './contexts/NotificationContext';\nimport { ApplicationProvider } from './contexts/ApplicationContext';\n\n// Layout Components\nimport Header from './components/layout/Header';\nimport Footer from './components/layout/Footer';\n\n// Auth Components\nimport Login from './components/auth/Login';\nimport Register from './components/auth/Register';\nimport ProtectedRoute from './components/auth/ProtectedRoute';\nimport AdminRoute from './components/auth/AdminRoute';\n\n// Pages\nimport LandingPage from './components/pages/LandingPage';\nimport UserDashboard from './components/dashboard/UserDashboard';\nimport AdminDashboard from './components/dashboard/AdminDashboard';\nimport Jobs from './components/jobs/JobList';\nimport JobDetail from './components/jobs/JobDetail';\nimport JobForm from './components/jobs/JobForm';\nimport Applications from './components/applications/ApplicationList';\nimport ApplicationForm from './components/applications/ApplicationForm';\nimport ApplicationDetail from './components/applications/ApplicationDetail';\nimport Profile from './components/auth/Profile';\nimport AdminJobList from './components/admin/AdminJobList';\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { token, loading, isAuthenticated } = useSelector((state) => state.auth);\n\n  console.log('App component rendered', { token, loading, isAuthenticated });\n\n  useEffect(() => {\n    console.log('App useEffect triggered', { token });\n    if (token && !isAuthenticated) {\n      console.log('Dispatching getProfileRequest');\n      dispatch(getProfileRequest());\n    }\n  }, [dispatch, token, isAuthenticated]);\n\n  console.log('App render state:', { loading });\n\n  if (loading) {\n    console.log('Showing loading screen');\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  console.log('Rendering main app content');\n  return (\n    <NotificationProvider>\n      <ApplicationProvider>\n        <Router>\n        <div className=\"min-h-screen flex flex-col bg-gray-50\">\n        <Header />\n        <main className=\"flex-1\">\n          <Routes>\n            {/* Public Routes */}\n            <Route path=\"/\" element={<LandingPage />} />\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n            <Route path=\"/jobs\" element={<Jobs />} />\n            <Route path=\"/jobs/:id\" element={<JobDetail />} />\n            \n            {/* Protected Routes - User Only */}\n            <Route \n              path=\"/dashboard\" \n              element={\n                <ProtectedRoute>\n                  <UserDashboard />\n                </ProtectedRoute>\n              } \n            />\n            <Route \n              path=\"/applications\" \n              element={\n                <ProtectedRoute>\n                  <Applications />\n                </ProtectedRoute>\n              } \n            />\n            <Route \n              path=\"/apply/:jobId\" \n              element={\n                <ProtectedRoute>\n                  <ApplicationForm />\n                </ProtectedRoute>\n              } \n            />\n            <Route \n              path=\"/applications/:id\" \n              element={\n                <ProtectedRoute>\n                  <ApplicationDetail />\n                </ProtectedRoute>\n              } \n            />\n            <Route \n              path=\"/profile\" \n              element={\n                <ProtectedRoute>\n                  <Profile />\n                </ProtectedRoute>\n              } \n            />\n            \n            {/* Admin Routes */}\n            <Route \n              path=\"/admin\" \n              element={\n                <AdminRoute>\n                  <AdminDashboard />\n                </AdminRoute>\n              } \n            />\n            <Route \n              path=\"/admin/jobs\" \n              element={\n                <AdminRoute>\n                  <AdminJobList />\n                </AdminRoute>\n              } \n            />\n            <Route \n              path=\"/admin/jobs/create\" \n              element={\n                <AdminRoute>\n                  <JobForm />\n                </AdminRoute>\n              } \n            />\n            <Route \n              path=\"/admin/jobs/:id/edit\" \n              element={\n                <AdminRoute>\n                  <JobForm />\n                </AdminRoute>\n              } \n            />\n            <Route \n              path=\"/admin/applications\" \n              element={\n                <AdminRoute>\n                  <Applications />\n                </AdminRoute>\n              } \n            />\n            \n            {/* Catch all route */}\n            <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n          </Routes>\n        </main>\n        <Footer />\n      </div>\n        </Router>\n      </ApplicationProvider>\n    </NotificationProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}