{"ast":null,"code":"import _objectSpread from\"/Users/rigobert/Documents/ISCO/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from'@reduxjs/toolkit';const initialState={user:null,token:localStorage.getItem('token'),isAuthenticated:!!localStorage.getItem('token'),loading:false,error:null};const authSlice=createSlice({name:'auth',initialState,reducers:{loginStart:state=>{console.log('Auth slice: loginStart action dispatched');state.loading=true;state.error=null;},loginSuccess:(state,action)=>{console.log('Auth slice: loginSuccess action dispatched with payload:',action.payload);state.loading=false;state.isAuthenticated=true;state.user=action.payload.user;state.token=action.payload.token;localStorage.setItem('token',action.payload.token);console.log('Auth slice: State updated, isAuthenticated:',state.isAuthenticated);},loginFailure:(state,action)=>{console.log('Auth slice: loginFailure action dispatched with error:',action.payload);state.loading=false;state.error=action.payload;},registerStart:state=>{state.loading=true;state.error=null;},registerSuccess:(state,action)=>{state.loading=false;state.isAuthenticated=true;state.user=action.payload.user;state.token=action.payload.token;localStorage.setItem('token',action.payload.token);},registerFailure:(state,action)=>{state.loading=false;state.error=action.payload;},logout:state=>{state.user=null;state.token=null;state.isAuthenticated=false;localStorage.removeItem('token');},clearError:state=>{state.error=null;},updateProfile:(state,action)=>{state.user=_objectSpread(_objectSpread({},state.user),action.payload);},setAuthenticated:(state,action)=>{state.isAuthenticated=true;state.user=action.payload.user;state.token=action.payload.token;},setUnauthenticated:state=>{state.isAuthenticated=false;state.user=null;state.token=null;localStorage.removeItem('token');}}});export const{loginStart,loginSuccess,loginFailure,registerStart,registerSuccess,registerFailure,logout,clearError,updateProfile,setAuthenticated,setUnauthenticated}=authSlice.actions;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","user","token","localStorage","getItem","isAuthenticated","loading","error","authSlice","name","reducers","loginStart","state","console","log","loginSuccess","action","payload","setItem","loginFailure","registerStart","registerSuccess","registerFailure","logout","removeItem","clearError","updateProfile","_objectSpread","setAuthenticated","setUnauthenticated","actions","reducer"],"sources":["/Users/rigobert/Documents/ISCO/frontend/src/store/reducers/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  user: null,\n  token: localStorage.getItem('token'),\n  isAuthenticated: !!localStorage.getItem('token'),\n  loading: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loginStart: (state) => {\n      console.log('Auth slice: loginStart action dispatched');\n      state.loading = true;\n      state.error = null;\n    },\n    loginSuccess: (state, action) => {\n      console.log('Auth slice: loginSuccess action dispatched with payload:', action.payload);\n      state.loading = false;\n      state.isAuthenticated = true;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      localStorage.setItem('token', action.payload.token);\n      console.log('Auth slice: State updated, isAuthenticated:', state.isAuthenticated);\n    },\n    loginFailure: (state, action) => {\n      console.log('Auth slice: loginFailure action dispatched with error:', action.payload);\n      state.loading = false;\n      state.error = action.payload;\n    },\n    registerStart: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    registerSuccess: (state, action) => {\n      state.loading = false;\n      state.isAuthenticated = true;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      localStorage.setItem('token', action.payload.token);\n    },\n    registerFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      localStorage.removeItem('token');\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    updateProfile: (state, action) => {\n      state.user = { ...state.user, ...action.payload };\n    },\n    setAuthenticated: (state, action) => {\n      state.isAuthenticated = true;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n    },\n    setUnauthenticated: (state) => {\n      state.isAuthenticated = false;\n      state.user = null;\n      state.token = null;\n      localStorage.removeItem('token');\n    },\n  },\n});\n\nexport const {\n  loginStart,\n  loginSuccess,\n  loginFailure,\n  registerStart,\n  registerSuccess,\n  registerFailure,\n  logout,\n  clearError,\n  updateProfile,\n  setAuthenticated,\n  setUnauthenticated,\n} = authSlice.actions;\n\nexport default authSlice.reducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}