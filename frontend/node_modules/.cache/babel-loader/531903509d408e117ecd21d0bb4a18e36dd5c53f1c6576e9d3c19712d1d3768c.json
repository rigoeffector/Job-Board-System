{"ast":null,"code":"var _jsxFileName = \"/Users/rigobert/Documents/ISCO/frontend/src/components/applications/ApplicationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { submitApplicationRequest, fetchJobRequest } from '../../store/actions';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ApplicationForm = () => {\n  _s();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    jobId\n  } = useParams();\n  const {\n    loading,\n    error\n  } = useSelector(state => state.applications);\n  const {\n    currentJob: job,\n    loading: jobLoading\n  } = useSelector(state => state.jobs);\n  const {\n    applications,\n    loading: appLoading\n  } = useSelector(state => state.applications);\n  const {\n    showSuccess,\n    showError\n  } = useNotification();\n  const [formData, setFormData] = useState({\n    cover_letter: '',\n    cv_link: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  useEffect(() => {\n    if (jobId) {\n      dispatch(fetchJobRequest(jobId));\n    }\n  }, [dispatch, jobId]);\n  useEffect(() => {\n    if (error) {\n      showError(error);\n    }\n  }, [error, showError]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear field error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.cover_letter.trim()) {\n      newErrors.cover_letter = 'Cover letter is required';\n    } else if (formData.cover_letter.trim().length < 50) {\n      newErrors.cover_letter = 'Cover letter must be at least 50 characters';\n    }\n    if (!formData.cv_link.trim()) {\n      newErrors.cv_link = 'CV link is required';\n    } else if (!isValidUrl(formData.cv_link)) {\n      newErrors.cv_link = 'Please enter a valid URL';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const isValidUrl = string => {\n    try {\n      new URL(string);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (validateForm()) {\n      const applicationData = {\n        job_id: parseInt(jobId),\n        cover_letter: formData.cover_letter.trim(),\n        cv_link: formData.cv_link.trim()\n      };\n      dispatch(submitApplicationRequest(applicationData));\n    }\n  };\n\n  // Watch for new applications being added (when submission is successful)\n  useEffect(() => {\n    if (!appLoading && !error && applications.length > 0) {\n      // Check if this is a new application for the current job\n      const newApplication = applications.find(app => {\n        var _app$job;\n        return (((_app$job = app.job) === null || _app$job === void 0 ? void 0 : _app$job.id) === (job === null || job === void 0 ? void 0 : job.id) || app.job_id === (job === null || job === void 0 ? void 0 : job.id)) && !submittedApplicationId;\n      } // Only if we haven't already processed this submission\n      );\n      if (newApplication) {\n        setSubmittedApplicationId(newApplication.id);\n      }\n    }\n  }, [appLoading, error, applications, job === null || job === void 0 ? void 0 : job.id, submittedApplicationId]);\n\n  // Navigate to the newly created application detail page\n  useEffect(() => {\n    if (!appLoading && !error && submittedApplicationId) {\n      showSuccess('Application submitted successfully!');\n      // Navigate to the newly created application detail page\n      navigate(`/applications/${submittedApplicationId}`);\n      setSubmittedApplicationId(null); // Reset the flag\n    }\n  }, [appLoading, error, submittedApplicationId, showSuccess, navigate]);\n  const formatSalary = (min, max) => {\n    if (!min && !max) return 'Salary not specified';\n    if (min && max) return `${min.toLocaleString()} - ${max.toLocaleString()} RWF`;\n    if (min) return `From ${min.toLocaleString()} RWF`;\n    if (max) return `Up to ${max.toLocaleString()} RWF`;\n  };\n  if (jobLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading job details...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  }\n  if (!job) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-4xl mb-4 block\",\n          children: \"\\u274C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 mb-2\",\n          children: \"Job Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"The job you're looking for doesn't exist or has been removed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/jobs\",\n          className: \"btn btn-primary\",\n          children: \"Browse Jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-gray-900\",\n              children: \"Apply for Position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 mt-2\",\n              children: [\"Complete your application for \", job.title, \" at \", job.company]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/jobs/${job.id}`,\n            className: \"text-primary-600 hover:text-primary-700 font-medium flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-1\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), \"Back to Job\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card sticky top-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900 mb-4\",\n                children: \"Job Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-medium text-gray-900\",\n                    children: job.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-600\",\n                    children: job.company\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"w-4 h-4 text-gray-400 mr-2\",\n                      fill: \"currentColor\",\n                      viewBox: \"0 0 24 24\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: job.location\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"w-4 h-4 text-gray-400 mr-2\",\n                      fill: \"currentColor\",\n                      viewBox: \"0 0 24 24\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 198,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 capitalize\",\n                      children: job.type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                      className: \"w-4 h-4 text-gray-400 mr-2\",\n                      fill: \"currentColor\",\n                      viewBox: \"0 0 24 24\",\n                      children: /*#__PURE__*/_jsxDEV(\"path\", {\n                        d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 205,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-green-600 font-medium\",\n                      children: formatSalary(job.salary_min, job.salary_max)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this), job.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pt-4 border-t border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-gray-900 mb-2\",\n                    children: \"Description\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 line-clamp-4\",\n                    children: job.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900 mb-6\",\n                children: \"Application Form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"space-y-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"cover_letter\",\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"Cover Letter *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: \"cover_letter\",\n                    name: \"cover_letter\",\n                    rows: 8,\n                    value: formData.cover_letter,\n                    onChange: handleChange,\n                    className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none ${errors.cover_letter ? 'border-red-300' : 'border-gray-300'}`,\n                    placeholder: \"Write your cover letter here. Explain why you're interested in this position and how your skills match the requirements...\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this), errors.cover_letter && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-sm text-red-600\",\n                    children: errors.cover_letter\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-xs text-gray-500\",\n                    children: [\"Minimum 50 characters. Current: \", formData.cover_letter.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"cv_link\",\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: \"CV/Resume Link *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"url\",\n                    id: \"cv_link\",\n                    name: \"cv_link\",\n                    value: formData.cv_link,\n                    onChange: handleChange,\n                    className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${errors.cv_link ? 'border-red-300' : 'border-gray-300'}`,\n                    placeholder: \"https://example.com/your-cv.pdf\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this), errors.cv_link && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-sm text-red-600\",\n                    children: errors.cv_link\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mt-1 text-xs text-gray-500\",\n                    children: \"Provide a direct link to your CV or resume (Google Drive, Dropbox, etc.)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-medium text-blue-900 mb-2\",\n                    children: \"\\uD83D\\uDCA1 Application Tips\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"text-sm text-blue-800 space-y-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"\\u2022 Tailor your cover letter to this specific position\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"\\u2022 Highlight relevant experience and skills\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"\\u2022 Keep your CV/resume up to date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: \"\\u2022 Double-check all links before submitting\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-end space-x-3 pt-6 border-t border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(Link, {\n                    to: `/jobs/${job.id}`,\n                    className: \"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\",\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    disabled: loading,\n                    className: \"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center\",\n                    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 27\n                      }, this), \"Submitting...\"]\n                    }, void 0, true) : 'Submit Application'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n_s(ApplicationForm, \"SgyN9s2KZuNERq3MxdLKXYWPtjY=\", false, function () {\n  return [useDispatch, useNavigate, useParams, useSelector, useSelector, useSelector, useNotification];\n});\n_c = ApplicationForm;\nexport default ApplicationForm;\nvar _c;\n$RefreshReg$(_c, \"ApplicationForm\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useParams","useNavigate","Link","submitApplicationRequest","fetchJobRequest","useNotification","jsxDEV","_jsxDEV","Fragment","_Fragment","ApplicationForm","_s","dispatch","navigate","jobId","loading","error","state","applications","currentJob","job","jobLoading","jobs","appLoading","showSuccess","showError","formData","setFormData","cover_letter","cv_link","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","e","name","value","target","prev","validateForm","newErrors","trim","length","isValidUrl","Object","keys","string","URL","_","handleSubmit","preventDefault","applicationData","job_id","parseInt","newApplication","find","app","_app$job","id","submittedApplicationId","setSubmittedApplicationId","formatSalary","min","max","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","title","company","fill","viewBox","d","location","type","salary_min","salary_max","description","onSubmit","htmlFor","rows","onChange","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/rigobert/Documents/ISCO/frontend/src/components/applications/ApplicationForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { submitApplicationRequest, fetchJobRequest } from '../../store/actions';\nimport { useNotification } from '../../contexts/NotificationContext';\n\nconst ApplicationForm = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { jobId } = useParams();\n  const { loading, error } = useSelector((state) => state.applications);\n  const { currentJob: job, loading: jobLoading } = useSelector((state) => state.jobs);\n  const { applications, loading: appLoading } = useSelector((state) => state.applications);\n  const { showSuccess, showError } = useNotification();\n  \n  const [formData, setFormData] = useState({\n    cover_letter: '',\n    cv_link: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (jobId) {\n      dispatch(fetchJobRequest(jobId));\n    }\n  }, [dispatch, jobId]);\n\n  useEffect(() => {\n    if (error) {\n      showError(error);\n    }\n  }, [error, showError]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear field error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.cover_letter.trim()) {\n      newErrors.cover_letter = 'Cover letter is required';\n    } else if (formData.cover_letter.trim().length < 50) {\n      newErrors.cover_letter = 'Cover letter must be at least 50 characters';\n    }\n    \n    if (!formData.cv_link.trim()) {\n      newErrors.cv_link = 'CV link is required';\n    } else if (!isValidUrl(formData.cv_link)) {\n      newErrors.cv_link = 'Please enter a valid URL';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const isValidUrl = (string) => {\n    try {\n      new URL(string);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      const applicationData = {\n        job_id: parseInt(jobId),\n        cover_letter: formData.cover_letter.trim(),\n        cv_link: formData.cv_link.trim()\n      };\n      \n      dispatch(submitApplicationRequest(applicationData));\n    }\n  };\n\n  // Watch for new applications being added (when submission is successful)\n  useEffect(() => {\n    if (!appLoading && !error && applications.length > 0) {\n      // Check if this is a new application for the current job\n      const newApplication = applications.find(app => \n        (app.job?.id === job?.id || app.job_id === job?.id) && \n        !submittedApplicationId // Only if we haven't already processed this submission\n      );\n      \n      if (newApplication) {\n        setSubmittedApplicationId(newApplication.id);\n      }\n    }\n  }, [appLoading, error, applications, job?.id, submittedApplicationId]);\n\n  // Navigate to the newly created application detail page\n  useEffect(() => {\n    if (!appLoading && !error && submittedApplicationId) {\n      showSuccess('Application submitted successfully!');\n      // Navigate to the newly created application detail page\n      navigate(`/applications/${submittedApplicationId}`);\n      setSubmittedApplicationId(null); // Reset the flag\n    }\n  }, [appLoading, error, submittedApplicationId, showSuccess, navigate]);\n\n  const formatSalary = (min, max) => {\n    if (!min && !max) return 'Salary not specified';\n    if (min && max) return `${min.toLocaleString()} - ${max.toLocaleString()} RWF`;\n    if (min) return `From ${min.toLocaleString()} RWF`;\n    if (max) return `Up to ${max.toLocaleString()} RWF`;\n  };\n\n  if (jobLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading job details...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!job) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <span className=\"text-4xl mb-4 block\">‚ùå</span>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Job Not Found</h2>\n          <p className=\"text-gray-600 mb-4\">The job you're looking for doesn't exist or has been removed.</p>\n          <Link to=\"/jobs\" className=\"btn btn-primary\">\n            Browse Jobs\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Apply for Position</h1>\n              <p className=\"text-gray-600 mt-2\">\n                Complete your application for {job.title} at {job.company}\n              </p>\n            </div>\n            <Link \n              to={`/jobs/${job.id}`}\n              className=\"text-primary-600 hover:text-primary-700 font-medium flex items-center\"\n            >\n              <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z\"/>\n              </svg>\n              Back to Job\n            </Link>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Job Details Sidebar */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"card sticky top-8\">\n              <div className=\"p-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Job Details</h2>\n                \n                <div className=\"space-y-4\">\n                  <div>\n                    <h3 className=\"font-medium text-gray-900\">{job.title}</h3>\n                    <p className=\"text-gray-600\">{job.company}</p>\n                  </div>\n                  \n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center text-sm\">\n                      <svg className=\"w-4 h-4 text-gray-400 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\n                      </svg>\n                      <span className=\"text-gray-600\">{job.location}</span>\n                    </div>\n                    \n                    <div className=\"flex items-center text-sm\">\n                      <svg className=\"w-4 h-4 text-gray-400 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                      </svg>\n                      <span className=\"text-gray-600 capitalize\">{job.type}</span>\n                    </div>\n                    \n                    <div className=\"flex items-center text-sm\">\n                      <svg className=\"w-4 h-4 text-gray-400 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                      </svg>\n                      <span className=\"text-green-600 font-medium\">\n                        {formatSalary(job.salary_min, job.salary_max)}\n                      </span>\n                    </div>\n                  </div>\n                  \n                  {job.description && (\n                    <div className=\"pt-4 border-t border-gray-200\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Description</h4>\n                      <p className=\"text-sm text-gray-600 line-clamp-4\">\n                        {job.description}\n                      </p>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Application Form */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"card\">\n              <div className=\"p-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Application Form</h2>\n                \n                <form onSubmit={handleSubmit} className=\"space-y-6\">\n                  {/* Cover Letter */}\n                  <div>\n                    <label htmlFor=\"cover_letter\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Cover Letter *\n                    </label>\n                    <textarea\n                      id=\"cover_letter\"\n                      name=\"cover_letter\"\n                      rows={8}\n                      value={formData.cover_letter}\n                      onChange={handleChange}\n                      className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none ${\n                        errors.cover_letter ? 'border-red-300' : 'border-gray-300'\n                      }`}\n                      placeholder=\"Write your cover letter here. Explain why you're interested in this position and how your skills match the requirements...\"\n                      disabled={loading}\n                    />\n                    {errors.cover_letter && (\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.cover_letter}</p>\n                    )}\n                    <p className=\"mt-1 text-xs text-gray-500\">\n                      Minimum 50 characters. Current: {formData.cover_letter.length}\n                    </p>\n                  </div>\n\n                  {/* CV Link */}\n                  <div>\n                    <label htmlFor=\"cv_link\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      CV/Resume Link *\n                    </label>\n                    <input\n                      type=\"url\"\n                      id=\"cv_link\"\n                      name=\"cv_link\"\n                      value={formData.cv_link}\n                      onChange={handleChange}\n                      className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${\n                        errors.cv_link ? 'border-red-300' : 'border-gray-300'\n                      }`}\n                      placeholder=\"https://example.com/your-cv.pdf\"\n                      disabled={loading}\n                    />\n                    {errors.cv_link && (\n                      <p className=\"mt-1 text-sm text-red-600\">{errors.cv_link}</p>\n                    )}\n                    <p className=\"mt-1 text-xs text-gray-500\">\n                      Provide a direct link to your CV or resume (Google Drive, Dropbox, etc.)\n                    </p>\n                  </div>\n\n                  {/* Tips Section */}\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h3 className=\"font-medium text-blue-900 mb-2\">üí° Application Tips</h3>\n                    <ul className=\"text-sm text-blue-800 space-y-1\">\n                      <li>‚Ä¢ Tailor your cover letter to this specific position</li>\n                      <li>‚Ä¢ Highlight relevant experience and skills</li>\n                      <li>‚Ä¢ Keep your CV/resume up to date</li>\n                      <li>‚Ä¢ Double-check all links before submitting</li>\n                    </ul>\n                  </div>\n\n                  {/* Footer */}\n                  <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\n                    <Link\n                      to={`/jobs/${job.id}`}\n                      className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\n                    >\n                      Cancel\n                    </Link>\n                    <button\n                      type=\"submit\"\n                      disabled={loading}\n                      className=\"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 flex items-center\"\n                    >\n                      {loading ? (\n                        <>\n                          <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                          Submitting...\n                        </>\n                      ) : (\n                        'Submit Application'\n                      )}\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ApplicationForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}